<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it" lang="it">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Tutti i film - The Minions tribute</title>
<meta name="title" content="Inserisci un film - The Minions Tribute" />
<meta name="description" content="Form per l'inserimento di un nuovo film nell'elenco dei film" />
<meta name="keywords" content="film, minions, esercizio, tecnologie web, film, organismi unicellulari, gialli, occhiali, combinaguai" />
<meta name="language" content="italian it" />
<meta name="author" content="Matteo Ciman" />

<link rel="stylesheet" type="text/css" href="style.css" />

<script type="text/javascript">

function validazioneForm(){
	var risultato = checkTitolo();
	risultato = risultato && checkDurata(); //cosi via via per tutte le funzioni
	return risultato;
}
function caricamento(){
	var tag = document.getElementById("titolo");
	tag.value = "Titolo del film";
	tag.className = "default-text";
	
	var tag = document.getElementById("durata");
	tag.value = "Durata del film";
	tag.className = "default-text";
}

function svuota(stringa){
	var tag =document.getElementById(stringa);
	if(tag.className == "default-text"){
		tag.value = "";
		tag.className = "";
	}
}
function checkTitolo(){
	var tag = document.getElementById("titolo");
	var padre = tag.parentNode;
	if(padre.children.length == 2){
		padre.removeChild(padre.children[1]);
	}
	/*
	var errore = document.getElementById(input.id="errore");
	if(errore)....
	
	if(document.getElementById(input.id="errore")){
	}
	*/
	
	
	var text = tag.value;
	var regexp = /\w{2,}/;
	if(text.search(regexp)!=0){
		var errore = document.createElement("strong");
		errore.innerHTML=" Inserire un titolo con almeno 2 lettere";
		padre.appendChild(errore);
		return false;
	}
	else {
		return true;}
}

function checkDurata(){
	var tag = document.getElementById("durata");
	var padre = tag.parentNode;
	if(padre.children.length == 2){
		padre.removeChild(padre.children[1]);
	}
	
	var text = tag.value;
	var regexp = /[4-9][0-9]{1,2}/; 
	if(text.search(regexp)!=0){
		var errore = document.createElement("strong");
		errore.innerHTML=" La durata del film risulta essere troppo corta";
		padre.appendChild(errore);
		return false;
	}
	else {
		return true;}
}
	

</script>
</head>
<body onload="caricamento();">

<div id="header">
	<h1 xml:lang="en">The Minions</h1>
	<h2 xml:lang="en">"Being married is like having the freedom to do whatever your wife tells you"</h2>
</div>

<div id="breadcrumb">
<p>Ti trovi in: <a href="index.html" xml:lang="en">Home</a> &gt; &gt; Inserisci un film</p>
</div>

<div id="menu">
	<ul>
		<li><a href="index.html" xml:lang="en">Home</a></li>
		<li><a href="trama.html">La trama</a></li>
        <li><a href="protagonisti.html">I protagonisti</a></li>
		<li><a href="film.html">Tutti i film</a></li>
		<li id="currentLink">Inserisci film</li>
		<li><a href="curiosita.html">Curiosit√†</a></li>
	</ul>
</div>

<div id="content">
<h1>Inserimento di un nuovo film</h1>

	<form method="post" action="cgi-bin/formFilm.cgi" onsubmit="return validazioneForm();">
		<fieldset>
			<legend>Informazioni generali</legend>
			<label for="titolo">Titolo: </label>
			<span><input type="text" name="titolo" id="titolo" onClick="svuota('titolo');" onBlur="checkTitolo();"/></span><br />

			<label for="giornoUscita">Data uscita: </label>
			<select name="giornoUscita" id="giornoUscita">
				<option value="01">1</option><option value="02">2</option><option value="03">3</option><option value="04">4</option><option value="05">5</option><option value="06">6</option><option value="07">7</option><option value="08">8</option><option value="09">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option>
			</select>
			<select name="meseUscita" id="meseUscita">
				<option value="Gennaio">Gennaio</option><option value="Febbraio">Febbraio</option><option value="Marzo">Marzo</option><option value="Aprile">Aprile</option><option value="Maggio">Maggio</option><option value="Giugno">Giugno</option><option value="Luglio">Luglio</option><option value="Agosto">Agosto</option><option value="Settembre">Settembre</option><option value="Ottobre">Ottobre</option><option value="Novembre">Novembre</option><option value="Dicembre">Dicembre</option>
			</select>
			<select name="annoUscita" id="annoUscita">
				<option value="2014">2014</option><option value="2015">2015</option><option value="2016">2016</option><option value="2017">2017</option>
			</select><br />

			<label for="paese">Paese: </label>
			<select name="paese" id="paese">
				<option value="Italia">Italia</option><option value="USA">USA</option><option value="Inghilterra">Inghilterra</option>
			</select><br />

			<label for="durata">Durata: </label>
			<span><input type="text" name="durata" id="durata" onClick="svuota('durata');" onBlur="checkDurata();"/></span>
		</fieldset>
		<fieldset>
			<legend>Risultati</legend>
			<label for="incasso">Incasso: </label>
			<span><input type="text" name="incasso" id="incasso" /></span><br />

			<label for="valutPubblico">Valutazione pubblico: </label>
			<span><input type="text" id="valutPubblico" name="valutPubblico" /></span><br />

			<label for="valutCritica">Valutazione critica: </label>
			<span><input type="text" id="valutCritica" name="valutCritica" /></span>
		</fieldset>
		<fieldset>
			<legend>Descrizione</legend>
			<label for="descrizione">Trama: </label>
			<span><textarea id="descrizione" name="descrizione" rows="10" cols="50"></textarea></span>
		</fieldset>
		<fieldset>
			<legend>Bottoni</legend>
			<input type="reset" value="Reset" /><input type="submit" id="submit" value="Inserisci" />
		</fieldset>
	</form>
</div>
<div id="footer">
<img class="imgValidCode" src="images/valid-xhtml10.png" alt="XHTML valido" /><p xml:lang="en"><span xml:lang="it">Matteo Ciman</span> &amp; Universal Pictures - All rights reserved</p><img class="imgValidCode" src="images/vcss-blue.gif" alt="CSS valido" />
</div>
</body>
</html>